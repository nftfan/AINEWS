<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NFTFANS AI NEWS</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #1f1f1f; /* dark mode background color */
        color: #888; /* grey text color */
        font-size: 16px; /* 10px font size */
        padding: 10px;
    }
    h1 {
        color: #fff; /* white text color */
    }
    p {
        margin-bottom: 5px;
    }
    .search-container {
        display: flex;
        margin-bottom: 10px;
    }
    .search-container input[type=text] {
        padding: 8px;
        border: 1px solid #ccc; /* border color */
        border-radius: 4px;
        flex: 1;
        margin-right: 5px;
    }
    .search-container button {
        padding: 8px 16px;
        background-color: #4CAF50; /* green button color */
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    .search-container button:hover {
        background-color: #45a049; /* darker green button color on hover */
    }
    .loading-message {
        color: #00f; /* blue text color */
    }
    table {
        width: 100%;
        border-collapse: collapse;
        border: 1px solid #444; /* border color */
    }
    th, td {
        padding: 10px;
        border-bottom: 1px solid #444; /* border color */
    }
    th {
        background-color: #333; /* table header background color */
        color: #fff; /* table header text color */
    }
    tr:nth-child(even) {
        background-color: #2f2f2f; /* alternate row background color */
    }
    tr:hover {
        background-color: #3f3f3f; /* hover row background color */
    }
    @media screen and (max-width: 600px) {
        table {
            font-size: 8px; /* reduce font size for smaller screens */
        }
        th, td {
            padding: 5px;
        }
    }
</style>
</head>
<body>

<h1>NFTFANS AI NEWS</h1>
<p>Please enter your search query:</p>
<div class="search-container">
    <input type="text" id="searchQuery" placeholder="Enter search query...">
    <button onclick="searchNews()">Search</button>
</div>
<p id="loadingMessage" class="loading-message"></p>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody id="news"></tbody>
</table>

<script>
    // Function to fetch RSS feed using proxy server
    function fetchRSS(url) {
        return fetch('https://api.allorigins.win/get?url=' + encodeURIComponent(url))
            .then(response => {
                if (response.ok) {
                    return response.json();
                }
                throw new Error('Network response was not ok.');
            })
            .then(data => new window.DOMParser().parseFromString(data.contents, 'text/xml'))
            .catch(error => console.error('Error:', error));
    }

    // Function to search news based on user input
    function searchNews() {
        const searchQuery = document.getElementById('searchQuery').value;
        const rssURL = `https://news.google.com/rss/search?q=${encodeURIComponent(searchQuery)}&hl=en-US&gl=US&ceid=US%3Aen`;

        document.getElementById('loadingMessage').innerText = 'Please wait, searching for latest news...';

        fetchRSS(rssURL)
            .then(data => {
                const items = Array.from(data.querySelectorAll('item'));
                const newsTable = document.getElementById('news');
                newsTable.innerHTML = ''; // Clear existing table

                // Sort items by date
                items.sort((a, b) => {
                    const dateA = new Date(a.querySelector('pubDate').textContent);
                    const dateB = new Date(b.querySelector('pubDate').textContent);
                    return dateB - dateA;
                });

                items.forEach(item => {
                    const title = item.querySelector('title').textContent;
                    const pubDate = new Date(item.querySelector('pubDate').textContent).toLocaleDateString();

                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${title}</td>
                        <td>${pubDate}</td>
                    `;
                    newsTable.appendChild(row);
                });

                document.getElementById('loadingMessage').innerText = ''; // Clear loading message
            })
            .catch(error => console.error('Error:', error));
    }

    // Initial load: Load default news (artificial intelligence)
    searchNews();
</script>

</body>
</html>
